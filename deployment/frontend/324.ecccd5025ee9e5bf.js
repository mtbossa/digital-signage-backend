"use strict";(self.webpackChunkparoquia_pio_x_frontend=self.webpackChunkparoquia_pio_x_frontend||[]).push([[324],{6943:(v,d,t)=>{t.r(d),t.d(d,{RaspberryUpdateFormComponent:()=>h});var o=t(6895),O=t(1150),l=t(4275),E=t(3900),u=t(8505),y=t(4004),a=t(2592),e=t(4650),r=t(5197),c=t(1540),C=t(4127);function M(n,_){if(1&n){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"app-raspberry-form",2),e.\u0275\u0275listener("formSubmitted",function(p){e.\u0275\u0275restoreView(s);const D=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(D.updateRaspberry(p))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const s=_.ngIf,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("displays$",i.displays$)("raspberryData",s)}}function P(n,_){1&n&&e.\u0275\u0275text(0," loading ")}let h=(()=>{class n{constructor(s,i,p,D){this.alertService=s,this.activatedRoute=i,this.raspberriesService=p,this.displayService=D,this.loading=!0,this.raspberry$=this.activatedRoute.paramMap.pipe((0,E.w)(R=>(this.selectedId=Number(R.get("id")),this.raspberriesService.show(this.selectedId).pipe((0,u.b)(m=>{this.displays$=this.displayService.getDisplayOptions({whereDoesntHaveRaspberry:!0,...m.display_id&&{withIds:[m.display_id]}})}),(0,y.U)(m=>(0,l.pick)(m,["short_name","mac_address","serial_number","display_id"]))))))}updateRaspberry(s){this.raspberriesService.update(this.selectedId,s).subscribe(()=>{this.alertService.open("Raspberry atualizado com sucesso!",{status:"success"}).subscribe()})}}return n.\u0275fac=function(s){return new(s||n)(e.\u0275\u0275directiveInject(O.J9),e.\u0275\u0275directiveInject(r.gz),e.\u0275\u0275directiveInject(c.D),e.\u0275\u0275directiveInject(C.i))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-raspberry-update-form"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"displays$","raspberryData","formSubmitted"]],template:function(s,i){if(1&s&&(e.\u0275\u0275template(0,M,2,2,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,P,1,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&s){const p=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,i.raspberry$))("ngIfElse",p)}},dependencies:[o.ez,o.O5,o.Ov,a.B]}),n})()},9451:(v,d,t)=>{t.d(d,{QP:()=>E,_B:()=>y,c4:()=>u});var o=t(7489),l=t(4004);const E=(a,e)=>{Object.keys(e.controls).filter(r=>a.includes(r)).forEach(r=>{e.get(r)?.disable()})},u=(a,e)=>a.valueChanges.pipe((0,l.U)(r=>(0,o.isEqual)(r,e))),y=a=>{const e={};return Object.keys(a.controls).forEach(r=>{const c=a.controls[r];c.dirty&&(e[r]=c.value)}),e}}}]);