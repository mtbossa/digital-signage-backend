"use strict";(self.webpackChunkparoquia_pio_x_frontend=self.webpackChunkparoquia_pio_x_frontend||[]).push([[574],{5574:(h,l,e)=>{e.r(l),e.d(l,{InvitationAcceptFormComponent:()=>O});var m=e(6895),n=e(433),u=e(1150),r=e(6907),c=e(6560),p=e(6693),g=e(2997),v=e(5087),d=e(5635),D=e(1922),_=e(3947),P=e(8171),t=e(4650),E=e(5197),F=e(6719);const s=function(){return[]};let O=(()=>{class a{constructor(i,o,C,M){this.alertService=i,this.route=o,this.activatedRoute=C,this.invitationsService=M,this.token=null,this.formDisabled=!1,this.invitationAcceptForm=new n.FormGroup({email:new n.FormControl("",{nonNullable:!0,validators:[n.Validators.required,n.Validators.email]}),name:new n.FormControl("",{nonNullable:!0,validators:[n.Validators.required]}),password:new n.FormControl("",{nonNullable:!0,validators:[n.Validators.required]}),password_confirmation:new n.FormControl("",{nonNullable:!0,validators:[n.Validators.required]})})}get emailControl(){return this.invitationAcceptForm.get("email")}ngOnInit(){this.activatedRoute.data.subscribe(i=>{const o=i.invitation;this.token=o.token,this.emailControl?.setValue(o.email),this.emailControl?.disable()})}onSubmit(){if(this.invitationAcceptForm.markAllAsTouched(),this.invitationAcceptForm.invalid)return;const i=this.invitationAcceptForm.getRawValue();this.invitationsService.update(this.token,i).subscribe(o=>{console.log(o),this.route.navigateByUrl("/login"),this.alertService.open("Conta criada com sucesso!",{status:"success"}).subscribe()})}}return a.\u0275fac=function(i){return new(i||a)(t.\u0275\u0275directiveInject(u.J9),t.\u0275\u0275directiveInject(E.F0),t.\u0275\u0275directiveInject(E.gz),t.\u0275\u0275directiveInject(F.h))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["app-invitation-accept-form"]],standalone:!0,features:[t.\u0275\u0275ProvidersFeature([{provide:g.Z4,useValue:P.ZP}]),t.\u0275\u0275StandaloneFeature],decls:37,vars:27,consts:[[1,"tui-container","tui-container_adaptive"],[3,"formGroup","ngSubmit"],[1,"tui-row"],[1,"tui-col_12"],[1,"tui-form__header","tui-form__header_margin-top_none"],[1,"tui-form__row"],["tuiTextfieldExampleText","Email","formControlName","email",3,"disabled"],[1,"tui-required"],["formControlName","email",3,"error"],["tuiTextfieldExampleText","Nome","formControlName","name"],["formControlName","name",3,"error"],["formControlName","password"],["formControlName","password",3,"error"],["formControlName","password_confirmation"],["formControlName","password_confirmation",3,"error"],[1,"tui-form__buttons"],["tuiButton","","size","l","type","submit",1,"tui-form__button",3,"disabled"]],template:function(i,o){1&i&&(t.\u0275\u0275elementStart(0,"article",0)(1,"form",1),t.\u0275\u0275listener("ngSubmit",function(){return o.onSubmit()}),t.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"h1"),t.\u0275\u0275text(5,"Cria conta"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"h3",4),t.\u0275\u0275text(7,"Informa\xe7\xf5es"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",5)(9,"tui-input",6),t.\u0275\u0275text(10," Email do usu\xe1rio "),t.\u0275\u0275element(11,"span",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(12,"tui-error",8),t.\u0275\u0275pipe(13,"async"),t.\u0275\u0275pipe(14,"tuiFieldError"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",5)(16,"tui-input",9),t.\u0275\u0275text(17," Nome Completo "),t.\u0275\u0275element(18,"span",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(19,"tui-error",10),t.\u0275\u0275pipe(20,"async"),t.\u0275\u0275pipe(21,"tuiFieldError"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",5)(23,"tui-input-password",11),t.\u0275\u0275text(24,"Senha"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(25,"tui-error",12),t.\u0275\u0275pipe(26,"async"),t.\u0275\u0275pipe(27,"tuiFieldError"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"div",5)(29,"tui-input-password",13),t.\u0275\u0275text(30,"Confirma\xe7\xe3o da senha"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(31,"tui-error",14),t.\u0275\u0275pipe(32,"async"),t.\u0275\u0275pipe(33,"tuiFieldError"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(34,"div",15)(35,"button",16),t.\u0275\u0275text(36," Enviar "),t.\u0275\u0275elementEnd()()()()()()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",o.invitationAcceptForm),t.\u0275\u0275advance(8),t.\u0275\u0275property("disabled",!0),t.\u0275\u0275advance(3),t.\u0275\u0275property("error",t.\u0275\u0275pipeBind1(13,7,t.\u0275\u0275pipeBind1(14,9,t.\u0275\u0275pureFunction0(23,s)))),t.\u0275\u0275advance(7),t.\u0275\u0275property("error",t.\u0275\u0275pipeBind1(20,11,t.\u0275\u0275pipeBind1(21,13,t.\u0275\u0275pureFunction0(24,s)))),t.\u0275\u0275advance(6),t.\u0275\u0275property("error",t.\u0275\u0275pipeBind1(26,15,t.\u0275\u0275pipeBind1(27,17,t.\u0275\u0275pureFunction0(25,s)))),t.\u0275\u0275advance(6),t.\u0275\u0275property("error",t.\u0275\u0275pipeBind1(32,19,t.\u0275\u0275pipeBind1(33,21,t.\u0275\u0275pureFunction0(26,s)))),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",o.formDisabled))},dependencies:[m.ez,m.Ov,n.ReactiveFormsModule,n.\u0275NgNoValidate,n.NgControlStatus,n.NgControlStatusGroup,n.FormGroupDirective,n.FormControlName,v.Yu,v.Ag,r.cn,r._K,c.S,c.v,p.fN,p.v0,d.Qf,d.K3,d.wU,D.$H,_.UO,_.Vs,_.F6],styles:[".tui-row[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"],changeDetection:0}),a})()},8171:(h,l,e)=>{e.d(l,{ZP:()=>u});const u={required:"Valor obrigat\xf3rio",maxlength:function m(r){return`M\xe1ximo de caracteres \u2014 ${r.requiredLength}`},minlength:function n(r){return`M\xednimo de caracteres \u2014 ${r.requiredLength}`}}}}]);