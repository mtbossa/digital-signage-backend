"use strict";(self.webpackChunkparoquia_pio_x_frontend=self.webpackChunkparoquia_pio_x_frontend||[]).push([[902],{9902:(U,p,s)=>{s.r(p),s.d(p,{PostUpdateFormComponent:()=>C});var c=s(6895),_=s(1150),d=s(3900),m=s(8852),e=s(4650),u=s(5197),l=s(730),P=s(6610),f=s(8709);function v(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"app-post-form",2),e.\u0275\u0275listener("formSubmitted",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.updatePost(r))})("descriptionUpdateSubmitted",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.updatePostDescription(r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=a.ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("postData",t)("medias$",o.medias$)("recurrences$",o.recurrences$)}}function E(n,a){1&n&&e.\u0275\u0275text(0," loading ")}let C=(()=>{class n{constructor(t,o,r,i,h){this.alertService=t,this.activatedRoute=o,this.postsService=r,this.mediasService=i,this.recurrencesService=h,this.loading=!0,this.medias$=this.mediasService.getMediaOptions(),this.recurrences$=this.recurrencesService.getRecurrenceOptions(),this.post$=this.activatedRoute.paramMap.pipe((0,d.w)(D=>(this.selectedId=Number(D.get("id")),this.postsService.show(this.selectedId))))}updatePost(t){this.makeUpdateRequest(this.postsService.update(this.selectedId,t))}updatePostDescription(t){this.makeUpdateRequest(this.postsService.updateDescription(this.selectedId,t))}makeUpdateRequest(t){t.subscribe(()=>{this.alertService.open("Post atualizado com sucesso!",{status:"success"}).subscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.J9),e.\u0275\u0275directiveInject(u.gz),e.\u0275\u0275directiveInject(l.P),e.\u0275\u0275directiveInject(P.D),e.\u0275\u0275directiveInject(f.S))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-post-update-form"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"postData","medias$","recurrences$","formSubmitted","descriptionUpdateSubmitted"]],template:function(t,o){if(1&t&&(e.\u0275\u0275template(0,v,2,3,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,E,1,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&t){const r=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,o.post$))("ngIfElse",r)}},dependencies:[c.ez,c.O5,c.Ov,m.o]}),n})()}}]);