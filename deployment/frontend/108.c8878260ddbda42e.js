"use strict";(self.webpackChunkparoquia_pio_x_frontend=self.webpackChunkparoquia_pio_x_frontend||[]).push([[108],{7108:(E,i,t)=>{t.r(i),t.d(i,{MediaCreateFormComponent:()=>M});var c=t(6895),d=t(529),_=t(1150),l=t(6329),o=t(4650),p=t(5197),u=t(6610);let M=(()=>{class s{constructor(a,r,e){this.alertService=a,this.route=r,this.mediasService=e,this.progress=0}createMedia(a){const r=new FormData;Object.entries(a).forEach(([e,n])=>{console.log(n),r.append(e,n)}),this.mediasService.create(r).subscribe({next:e=>{switch(e.type){case d.dt.UploadProgress:e.total&&(this.progress=Math.round(e.loaded/e.total*100),console.log(`Uploaded! ${this.progress}%`));break;case d.dt.Response:this.route.navigate(["../midias"]),this.alertService.open("M\xeddia criada com sucesso!",{status:"success"}).subscribe()}},error(e){console.log(e)}})}}return s.\u0275fac=function(a){return new(a||s)(o.\u0275\u0275directiveInject(_.J9),o.\u0275\u0275directiveInject(p.F0),o.\u0275\u0275directiveInject(u.D))},s.\u0275cmp=o.\u0275\u0275defineComponent({type:s,selectors:[["app-media-create-form"]],standalone:!0,features:[o.\u0275\u0275StandaloneFeature],decls:1,vars:1,consts:[[3,"uploadProgress","formSubmitted"]],template:function(a,r){1&a&&(o.\u0275\u0275elementStart(0,"app-media-form",0),o.\u0275\u0275listener("formSubmitted",function(n){return r.createMedia(n)}),o.\u0275\u0275elementEnd()),2&a&&o.\u0275\u0275property("uploadProgress",r.progress)},dependencies:[c.ez,l.B]}),s})()}}]);